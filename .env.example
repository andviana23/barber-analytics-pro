# üîê BARBER ANALYTICS PRO - VARI√ÅVEIS DE AMBIENTE
# Copie este arquivo para .env e preencha com seus valores reais

# ========================
# SUPABASE CONFIGURATION
# ========================
# URL da API do seu projeto Supabase
# Encontre em: Dashboard do Supabase > Settings > API > Project URL
VITE_SUPABASE_URL=https://seu-projeto.supabase.co

# Chave p√∫blica (anon key) do Supabase
# Encontre em: Dashboard do Supabase > Settings > API > Project API keys > anon public
VITE_SUPABASE_ANON_KEY=

# Chave de servi√ßo do Supabase (apenas para desenvolvimento/servidor)
# ‚ö†Ô∏è NUNCA exponha esta chave no frontend
SUPABASE_SERVICE_ROLE_KEY=

# ========================
# AUTHENTICATION
# ========================
# URL de redirecionamento ap√≥s login/logout
VITE_AUTH_REDIRECT_URL=http://localhost:3000

# URL base da aplica√ß√£o (para produ√ß√£o)
VITE_APP_URL=http://localhost:3000

# ========================
# APPLICATION SETTINGS
# ========================
# Nome da aplica√ß√£o
VITE_APP_NAME="Barber Analytics Pro"

# Vers√£o da aplica√ß√£o
VITE_APP_VERSION=1.0.0

# Ambiente (development, staging, production)
VITE_NODE_ENV=development

# ========================
# ANALYTICS & MONITORING
# ========================
# Google Analytics ID (opcional)
VITE_GA_TRACKING_ID=G-XXXXXXXXXX

# Sentry DSN para monitoramento de erros (opcional)
VITE_SENTRY_DSN=https://your-dsn@sentry.io/project-id

# ========================
# FEATURES FLAGS
# ========================
# Habilitar modo debug
VITE_DEBUG_MODE=true

# Habilitar funcionalidades beta
VITE_ENABLE_BETA_FEATURES=false

# ========================
# EXTERNAL SERVICES
# ========================
# API de pagamentos (se necess√°rio)
VITE_PAYMENT_API_KEY=pk_test_...

# API de notifica√ß√µes push (se necess√°rio)
VITE_PUSH_NOTIFICATIONS_KEY=your-key-here

# ========================
# DATABASE SPECIFIC
# ========================
# Nome do banco de dados (para refer√™ncia)
DATABASE_NAME=barber_analytics_pro

# Schema principal
DATABASE_SCHEMA=public

# ========================
# SECURITY
# ========================
# Chave secreta para JWT (apenas servidor)
JWT_SECRET=sua-chave-super-secreta-aqui

# Salt para hash de senhas
PASSWORD_SALT_ROUNDS=12

# ========================
# EMAIL CONFIGURATION
# ========================
# Configura√ß√µes de email (via Supabase Auth ou servi√ßo externo)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-app

# ========================
# STORAGE
# ========================
# Bucket padr√£o para uploads
VITE_STORAGE_BUCKET=uploads

# URL p√∫blica do storage
VITE_STORAGE_URL=https://seu-projeto.supabase.co/storage/v1/object/public

# ========================
# RATE LIMITING
# ========================
# Limite de requisi√ß√µes por minuto (apenas servidor)
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ========================
# CORS SETTINGS
# ========================
# Dom√≠nios permitidos (separados por v√≠rgula)
ALLOWED_ORIGINS=http://localhost:3000,https://barberanalytics.vercel.app

# ========================
# OPENAI - INTELIG√äNCIA ARTIFICIAL
# ========================
# API Key para autentica√ß√£o na OpenAI
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=
# Modelo prim√°rio para an√°lises
# Op√ß√µes: gpt-4o, gpt-4o-mini (recomendado)
OPENAI_MODEL=gpt-4o-mini

# Modelo fallback em caso de falha
OPENAI_MODEL_FALLBACK=gpt-3.5-turbo

# Limite de custo mensal (USD) para alertas
# Alerta enviado via Telegram quando >= 80% deste valor
OPENAI_COST_ALERT_THRESHOLD=80

# M√°ximo de tokens por requisi√ß√£o
OPENAI_MAX_TOKENS_PER_REQUEST=2000

# ========================
# TELEGRAM - BOT & NOTIFICA√á√ïES
# ========================
# Token do bot (obtido via @BotFather)
TELEGRAM_BOT_TOKEN=
# ID do chat para enviar alertas
# Usar n√∫mero positivo ou ID de grupo
TELEGRAM_CHAT_ID=

# Secret para valida√ß√£o de webhooks
TELEGRAM_WEBHOOK_SECRET=your-webhook-secret-here

# ========================
# CRON JOBS - AGENDAMENTO
# ========================
# Secret para autentica√ß√£o em rotas /api/cron/*
CRON_SECRET=your-secret-cron-key-here

# ETL Di√°rio (03:00 BRT)
CRON_ETL_DIARIO_SCHEDULE=0 3 * * *

# Relat√≥rio Semanal (Segunda-feira 06:00)
CRON_RELATORIO_SEMANAL_SCHEDULE=0 6 * * 1

# Fechamento Mensal (1¬∫ do m√™s 07:00)
CRON_FECHAMENTO_MENSAL_SCHEDULE=0 7 1 * *

# Envio de Alertas (A cada 15 minutos)
CRON_ENVIAR_ALERTAS_SCHEDULE=*/15 * * * *

# ========================
# HEALTH CHECK
# ========================
# Ativar health checks autom√°ticos
HEALTH_CHECK_ENABLED=true

# Intervalo de health check (ms) - padr√£o: 5 min = 300000
HEALTH_CHECK_INTERVAL=300000

# Enviar alertas cr√≠ticos via Telegram
HEALTH_CHECK_SEND_ALERTS=true

# ========================
# ANALYTICS - PROCESSAMENTO DE DADOS
# ========================
# Batch size para processamento paralelo (recomendado: 5)
ANALYTICS_BATCH_SIZE=5

# M√°ximo de unidades em paralelo
ANALYTICS_MAX_PARALLEL=3

# Timeout para ETL (ms)
ANALYTICS_ETL_TIMEOUT=600000

# Dias de hist√≥rico para anomalias
ANALYTICS_ANOMALY_LOOKBACK_DAYS=30

# Z-score threshold para anomalias (2 = 95% confian√ßa)
ANALYTICS_ANOMALY_ZSCORE_THRESHOLD=2

# ========================
# CACHE - OTIMIZA√á√ÉO
# ========================
# TTL para cache de an√°lises (segundos) - padr√£o: 24h
CACHE_ANALYSIS_TTL=86400

# TTL para cache de KPIs (segundos) - padr√£o: 5min
CACHE_KPI_TTL=300

# Provider de cache: memory, redis
CACHE_PROVIDER=memory

# ========================
# RETRY & CIRCUIT BREAKER
# ========================
# M√°ximo de tentativas para falhas
RETRY_MAX_ATTEMPTS=3

# Delay inicial de backoff (ms)
RETRY_INITIAL_DELAY=1000

# Multiplicador de backoff exponencial
RETRY_BACKOFF_MULTIPLIER=2

# Limite de falhas para abrir circuit breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Timeout para reset do circuit breaker (ms)
CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# ========================
# LOGGING
# ========================
# N√≠vel de log: debug, info, warn, error
LOG_LEVEL=info

# Enviar logs estruturados para Vercel Logs
ENABLE_STRUCTURED_LOGGING=true

# Habilitar trace IDs em logs
ENABLE_TRACE_IDS=true

# ========================
# NOTAS IMPORTANTES
# ========================
# 1. Todas as vari√°veis que come√ßam com VITE_ s√£o expostas no frontend
# 2. Nunca commite o arquivo .env no Git
# 3. Use valores diferentes para development/staging/production
# 4. Mantenha as chaves de produ√ß√£o seguras e rotacione periodicamente
# 5. Para deploy no Vercel, configure as vari√°veis no dashboard da plataforma
# 6. Vari√°veis de IA Financeira s√£o sens√≠veis - use Vercel Secrets em produ√ß√£o
