# ğŸ¤– MÃ³dulo IA â€” IntegraÃ§Ã£o OpenAI

UtilitÃ¡rios e funÃ§Ãµes para integraÃ§Ã£o com OpenAI API.

## ğŸ“ Arquivos

### `openai.ts`

- ConfiguraÃ§Ã£o e inicializaÃ§Ã£o do cliente OpenAI
- Circuit breaker e retry logic
- Gerenciamento de limites de rate limit

### `prompts.ts`

- Prompts estruturados para anÃ¡lises financeiras
- Templates para diferentes tipos de relatÃ³rios
- System messages e instruÃ§Ãµes de contexto

### `analysis.ts`

- GeraÃ§Ã£o de insights via OpenAI
- Cache de anÃ¡lises
- AnonimizaÃ§Ã£o de dados antes de envio
- Parsing de respostas JSON

## ğŸ” Exemplo de Uso

```typescript
import { generateAnalysis } from '@/lib/ai/analysis';

const insight = await generateAnalysis(unitId, metrics, 'WEEKLY');
```

## ğŸ”’ SeguranÃ§a

- PII Ã© removido antes de enviar Ã  OpenAI
- Custos sÃ£o rastreados automaticamente
- Circuit breaker protege contra falhas em cascata
- Todas as requisiÃ§Ãµes sÃ£o logadas para auditoria
